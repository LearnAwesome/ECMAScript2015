<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//handler中的get()方法拦截实例
//				//1.不存在的属性抛错, 默认返回undefined
//				var person = {
//					name: 'Michael'
//				};
//				var proxy = new Proxy( person, {
//					get( target, key ) {
//						if ( key in target ) {
//							return target[key];
//						} else {
//							throw new ReferenceError( 'Property \"' + key + '\" does not exist.' )
//						}
//					}
//				} );
//				console.log( proxy.name ); //'Michael'
//				console.log( proxy.age ); //ReferenceError: Property "age" does not exist.
//					//js中的常见抛错类型
//					//SyntaxError(语法错误)
//					//ReferenceError(引用错误)
//					//RangeError(范围错误)
//					//TypeError(类型错误)
//					//URLError(URL错误)
//					//EvalError(eval错误)

				//key in target 以及 target.hasOwnProperty( key )
//				let proto = { name: 'John' };
//				let target = Object.create( proto );
//				target.age = 27;
//				target[ Symbol.for( 'mySymbol' ) ] = 1;
//				Object.defineProperty( target, 'sex', {
//					value: 'male',
//					enumerable: false
//				} );
//				console.log( target ); //{age: 27, sex: "male", Symbol(mySymbol): 1}
//				console.log( Object.getPrototypeOf( target ) ); //{name: "John"}
				//target的属性列表
//				{
//					name: 'John', //继承属性
//					[ Symbol.for( 'mySymbol' ) ]: 1, //自身Symbol属性
//					target.age = 27, //自身可枚举属性
//					sex: 'male' //自身不可枚举属性
//				}
					//key in target 自身以及继承
//					console.log( 'name' in target ); //true
//					console.log( [ Symbol.for( 'mySymbol' ) ] in target ); //Error
//					console.log( 'age' in target ); //true
//					console.log( 'sex' in target ); //true
					
					//target.hasOwnProperty( key ) 自身
//					console.log( target.hasOwnProperty( 'name' ) ); //false
//					console.log( target.hasOwnProperty( [ Symbol.for( 'mySymbol' ) ] ) ); //Error
//					console.log( !!Object.getOwnPropertySymbols( target ) ); //true
//					console.log( target.hasOwnProperty( 'age' ) ); //true
//					console.log( target.hasOwnProperty( 'sex' ) ); //true

			//2.定义一个可以获取负值索引的数组
//			const createArray = (...args) => {
//				const handler = {
//					get( target, propKey ) {
//						let index = Number(propKey);
//						if ( index < 0 ) {
//							propKey = String(target.length + index);
//						}
//						return Reflect.get( target, propKey );
//					}
//				}
//				return new Proxy( [...args], handler );
//			}
//			
//			let arr = createArray( 'a', 'b', 'c' );
//			console.log(arr);
			
		</script>
	</body>
</html>
