<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        
        // Map(更完善的Hash结构)

            // 基本用法

                // 用set添加
                // const m = new Map();
                // const o = {p: "hello world"};
                // m.set( o, "content" );
                // console.log(m); // {{…} => "content"}
                // console.log( m.get( o ) ) // "content"

                // 用数组直接创建
                // const m = new Map( [ ["name", "张三"], ["title", "Author"] ] );
                // console.log(m); // {"name" => "张三", "title" => "Author"}
                // console.log( m.get("title") ); // "Author"

                // 添加相同键会被覆盖
                // const m = new Map().set(1, 'a').set(1, 'b');
                // console.log( m ) // {1 => "b"}
                // const m = new Map([
                //     [1, 'a'],
                //     [1, 'b']
                // ]);
                // console.log(m); // {1 => "b"}

                // 键名只要严格相等，则视为一个键，注意：
                    // 对象 {} 和 {} 地址不同，视为不同键
                    // +0 和 -0 严格相等， 视为相同键
                    // NaN 和 NaN，特例，视为相同键
                
            // 实例的属性

                // size 类似数组的length，返回成员数
                // const m = new Map().set(1, 'a').set(2, 'b');
                // console.log(m.size); // 2

            // 实例的方法

                // set(key, val) 设置(添加)成员，返回Map自身

                // get(key) 获取成员，返回成员键名

                // has(key) 判断是否含有该成员，返回是否存在的布尔值

                // delete(key) 删除成员，返回是否成功的布尔值

                // clear() 清空成员

            // 遍历方法

                // keys() 返回键名遍历器对象

                // values() 返回键值遍历器对象

                // entries() 返回[键名, 键值]遍历器对象
                // 由于Map.prototype[Symbol.iterator] === Map.prototype.entries，所以可以直接遍历

                // forEach() 遍历方法

            // 用扩展运算符(...)快速转化为数组

                // let m = new Map([
                //     [1, 'a'],
                //     [2, 'b'],
                //     [3, 'c']
                // ]);
                // console.log( [...m.keys()] ); // [1, 2, 3]
                // console.log( [...m.values()] ); // ["a", "b", "c"]
                // console.log( [...m.entries()] ); // [Array(2), Array(2), Array(2)]
                // console.log( [...m] ); // [Array(2), Array(2), Array(2)]

                // 注意：转化成数组之后，就可以用filter和map方法了
                // m = new Map(
                //     [...m].filter( ( [k, v] ) => k < 3 )
                // );
                // console.log( m ) // {1 => "a", 2 => "b"}

                // m = new Map(
                //     [...m].map( ([k, v]) => [k+1, v+'b'] )
                // )
                // console.log(m) //{2 => "ab", 3 => "bb", 4 => "cb"}

    </script>
</body>
</html>